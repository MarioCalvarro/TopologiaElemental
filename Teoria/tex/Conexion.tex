\chapter{Conexión}%
\label{cha:conexion}
\section{Concepto y mantras}%
\label{sec:concepto_y_mantras_conx}
\begin{defi}
$X$ es \textbf{conexo} si cumple las siguientes condiciones equivalentes:
\begin{enumerate}
    \item $\nexists U \sqcup V = X$, abiertos $\neq \emptyset$.
    \item $\nexists F \sqcup C = X$, cerrados $\neq \emptyset$.
    \item $\nexists E \subsetneq X$ abierto y cerrado $\neq \emptyset$.
\end{enumerate}
\end{defi}
\begin{demo}
Equivalencia: $F = \underbrace{X \setminus V}_{= U},\ C = \underbrace{X \setminus U}_{= V},\ E = U = X \setminus V.$
\end{demo}

\begin{obs}
$Y \subset X$ \textbf{subespacio conexo}: $\nexists U \cup V \supset Y$ abierto de $X$, 
\[
\begin{cases}
    U \cap Y \neq \emptyset\\
    V \cap Y \neq \emptyset\\
    U \cap V \cap Y = \emptyset
\end{cases} 
\]
Esta definición es equivalente a comprobar que $Y$ es conexo en su topología relativa.
\end{obs}

\begin{ej}[Fundamental]
\begin{itemize}
    \item $\mathbb{R}$ es conexo.
    \item $\mathbb{Q}$ no es conexo. De hecho, es \textbf{totalmente disconexo}.
    \begin{demo}
        %TODO: Dibujo y el hace algo con Y \subset Q
        %Hay que ver que el único subespacio conexo es {q} q in Q
        Si dividimos $\mathbb{R}$ en dos segmentos disjuntos separados por $\alpha \in \mathbb{R} \setminus \mathbb{Q}$ tenemos que $\mathbb{Q} = \mathbb{Q} \cap \left( \left[ -\infty, \alpha \right) \sqcup \left( \alpha, +\infty \right] \right)$ que son abiertos en $\mathbb{Q}$ y disjuntos.
    \end{demo}

    \item Sorgenfrey: Solo son conexos los puntos.
    \item $\left( 0, 1 \right) \subset \mathbb{R}_u$ es conexo. 
    \item\label{prop:conexos_rn} Mantras generales $\Rightarrow$ segmentos en $\mathbb{R}^n$, estrellados y convexos son conexos.
\end{itemize}

\end{ej}

\begin{theo}[del pivote. Mantra 1] 
Sea $X = \bigcup_{i \in I} A_i$. Si $\bigcap_{i \in I} A_i \neq 0$ y $A_i$ conexos $\forall i \in I \Rightarrow X$ conexo.
\end{theo}
\begin{demo}
Tenemos que ver que $\emptyset \neq E \ac X$ es el total:
\begin{align*}
    \emptyset \neq E \ac X &\Rightarrow E \cap A_i \ac A_i \xRightarrow{\text{conx.}} \begin{cases}
        E \cap A_i = \emptyset \text{, ó}\\
        E \stackrel{*}{\supset} A_i
    \end{cases}\\
    &\xRightarrow[E \neq \emptyset]{*} \exists i_0: E \supset A_{i_0} \supset \bigcap_{i \in I} A_i \neq \emptyset \Rightarrow \forall i \in I,\ E \cap A_i \neq \emptyset \xRightarrow{*} E \supset A_i\\
    &\Rightarrow E \supset \bigcup_{i \in I} A_i \Rightarrow E = X
.\end{align*}
\end{demo}

\begin{coro}[Variantes]
\begin{enumerate}
    \item $X = \bigcup_{i \in  I} A_i,\ \exists A_{i_0} \cap A_i \neq \emptyset,\ \forall i \in I$.
    \begin{demo}
        $X = \bigcup_{i \in  I}\left( A_{i_0} \cup A_i \right)$ conexo por mantra $1$ y se aplica el mantra $1$.
    \end{demo}
    \item \underline{Cadenas}: $X = \underbrace{A_1 \cup \ldots \cup A_k \cup \ldots}_{\text{todos conexos}}$ y $A_k \cap A_{k + 1} \neq \emptyset \Rightarrow X$ conexo.
    \begin{demo}
        Se usa el mantra $1$ dos veces:
        \[
        \begin{cases}
            X_k = \left(\left(\left(\left( \left( A_1 \cup A_2 \right) \cup A_3 \right) \ldots \right) \cup \right) A_{k-1}\right) \cup A_k\\
            X = \bigcup_{k \in K} \left( X_1 \cup \ldots \cup X_k \right) 
        \end{cases} 
        \]

        \begin{figure}[H]
            \centering
            \incfig[0.5]{cadena-de-conexos}
            \caption{\textit{Ejemplo de una cadena de conexos.}}
            \label{fig:cadena-de-conexos}
        \end{figure}
    \end{demo}
\end{enumerate} 
\end{coro}

Ahora vemos el contrarrecíproco del anterior resultado que es de vital importancia.
\begin{prop}[Construcción de cadenas]
Sea $X$ conexo tal que $X = \bigcup_{i \in I} U_i$, recubrimiento abierto y $p, q \in X \Rightarrow \exists U_{i_0} \cup \ldots \cup U_{i_k}$ de $p$ a $q: p \in U_{i_0}, U_{i_{k - 1}} \cap U_{i_k} \neq \emptyset,\ q \in U_{i_r}$. 
\end{prop}
\begin{demo}
Veamos que $A = \{x \in X: \exists U_{i_k} \text{, cadena, de } p \text{ a } x\} \neq \emptyset$ abierto y cerrado $\Rightarrow A = X$ y $q \in A$, es decir, para cualquier elemento de $X$ existe una cadena desde $p$ que es lo que buscamos. Esto se debe a que: 
\begin{itemize}
    \item \underline{No vacío}: $\exists U_{i_0} \ni p$ y $U_{i_0}$ va de $p$ a $p$.
    \item \underline{Abierto}: $\exists U_{i_0}, \ldots, U_{i_r}$ de $p$ a $x \Rightarrow U_{i_r} \subset A$, es decir, es entorno de todos sus puntos.
    \item \underline{Cerrado}: 
    \begin{align*}
        y \in \overline{A} \text{ e } y \in U_{i\left( y \right)} &\Rightarrow A \cap U_{i\left( y \right)} \neq \emptyset\\
        &\Rightarrow \exists U_{i_0}, \ldots, U_{i_r} \text{ de } p \text{ a } x\in U_{i\left( y \right)}\\
        &\Rightarrow U_{i_0}, \ldots, U_{i_r}, U_{i\left( y \right)} \text{ de } p \text{ a } y
    .\end{align*}
    Por tanto, $y \in A$, es decir, $A = \overline{A}$.
\end{itemize}
%TODO: Imagen
\begin{center}
    \includegraphics[scale=0.3]{images/dem_const_cadenas} 
\end{center}
Con esto es un subconjunto de uno conexo, no vacío, abierto y cerrado, es decir, es el total.
\end{demo}

\begin{prop}[Mantra 2]
Imagen continua de un conexo es conexo. 
\end{prop}
\begin{demo}
Sea $f: X \rightarrow Y$ continua y $\emptyset \neq E \ac f\left( X \right) \xRightarrow{\text{cont.}} \emptyset \neq f^{-1}\left( E \right) \ac X \Rightarrow f^{-1}\left( E \right) = X \Rightarrow E = f\left( X \right)$.
\end{demo}

\begin{prop}[Mantra 3]
La adherencia de un conexo es conexo, es decir,
\[
Y \subset X \text{ con } Y \text{ conexo y denso} \Rightarrow X \text{ conexo.}
\]
\end{prop}
\begin{demo}
    $\emptyset \neq E \stackrel[\text{cerr.}]{\text{ab.}}{\subset} X \Rightarrow E \cap Y \stackrel[\text{cerr.}]{\text{ab.}}{\subset} Y \Rightarrow \begin{cases}
        E \cap Y \neq \emptyset\ \text{ por la densidad.} \\
        E \cap Y = Y \Rightarrow Y \subset E \cerr X = \overline{Y} \Rightarrow E = X.
    \end{cases}$
\end{demo}

\begin{ej}
   %TODO: Ejemplos complicados
\begin{enumerate}
    %TODO: Ejemplo de la esfera y del proyectivo.

    \item Por \ref{prop:conexos_rn}) tenemos que: $\left( 0, 1 \right) \stackrel{\text{denso}}{\subset} \left[ 0, 1 \right] \xRightarrow{\mathrm{M}3} \left[ 0, 1 \right]$ conexo. Con una interpolación: $\sigma\left( t \right) = \left( 1 - t \right) a + tb$ es homeomorfismo con $\left[ a, b \right] \subset \mathbb{R}^n \xRightarrow{\mathrm{M}2} \left[ a, b \right]$ es conexo. Aplicando ahora:
    \begin{itemize}
        \item Pivote: $E = \bigcup_{\substack{x \in E\\ \text{conx.}}} \left[ a, x \right]$ \underline{estrellado} (resp. de $a$): convexos, bolas abiertas y cerradas, rectángulos... 
        \item Mantra $2$: Trazas de curvas continuas $\sigma: \left[ 0, 1 \right] \rightarrow \mathbb{R}^n$.
    \end{itemize}
    \item \underline{Seno del topólogo} (polaco):

    Son conexos: $\begin{cases}
        \Gamma = \text{imagen} : t \mapsto \left( t, \sin \frac{1}{t} \right),\ t > 0 \text{ por ser imagen de una función continua}\\
        J = \{0\} \times \left[ 0, 1 \right]\\
        \overline{\Gamma} = \Gamma \cup J \text{ por ser adherencia.} 
    \end{cases}$
    \begin{figure}[H]
        \centering
        \begin{tikzpicture}
        \begin{axis}[
            axis lines* = middle,
            height=2cm,
            width=5cm,
            scale only axis=true,
            ytick=\empty,
            xtick=\empty,
            xmin=-0.1,
            xmax=0.7,
            ymin=-1,
            ymax=1,
        ]
        \addplot[
            domain=0.001:0.8,
            samples=1000,
            color=blue,
            smooth,
        ]
        {sin(deg(1/x))};
        \draw[blue, dashed] (0,1) -- (1,1);
        \draw[blue, dashed] (0,-1) -- (1,-1);
        \node at (0,0.5) [left] {\scriptsize $J$};
        \node[blue] at (0,1) {\tiny \textbullet};
        \node[blue] at (0,-1) {\tiny \textbullet};

        \node at (0.5, 0.5) {\scriptsize $\Gamma$};
        \end{axis}
        \end{tikzpicture}
        \caption{\textit{Representación de la gráfica del llamado seno del topólogo o de Varsovia.}}
    \end{figure}
\end{enumerate}
\end{ej}

\section{Tabla de comportamiento}%
\label{sec:tabla_de_comportamiento_conx}
\begin{table}[H]
\centering
\begin{tabular}{| c | c | c | c | c |}
\hline
& Subespacios & Cocientes & Productos & Sumas\\
\hline
    Conexión & \ding{55} & \checkmark & \checkmark & \ding{55} \\
    \hline
    Demostración: & $\{0, 1\} \subset \left[ 0, 1 \right]$ & Mantra $3$ & Pivote & Cada sum. es ab. y cerr.\\
    \hline
\end{tabular}
\caption{\textit{La tabla nos indica como se conserva la conexión con las propiedades que hemos visto. Las sumas y los productos son finitos.}}
\end{table}

\begin{prop}
$X \times Y$ conexo $\Leftrightarrow X$ y $Y$ conexo.
\end{prop} 
\begin{demo}
\begin{itemize}
    \item[$\Rightarrow)$] Mantra $3$ para las proyecciones.

    \item[$\Leftarrow)$] Fijamos $a \in X$.
    \begin{gather*}    
    \forall y \in Y,
    \begin{rcases}
        Z_y = \underbrace{\left( X \times \{y\} \right)}_{\approx X}\cup \underbrace{\left( \{a\} \times Y \right)}_{\approx Y} \text{ dos conx. se cortan en } \left( a, y \right) \xRightarrow{\text{Piv.}} Z_y \text{ conx.}\\
        \bigcap_{y \in Y} Z_y = \{a\} \times Y \neq \emptyset
    \end{rcases} \xRightarrow{\text{Piv.}} \\
    \bigcup_{y \in Y} Z_y = X \times Y \text{ conx.} 
    \end{gather*}
    \begin{figure}[H]
        \centering
        \begin{tikzpicture}
            \draw[gray] (0,0) rectangle (2,2);
            \foreach \y in {0.1, 0.2, ..., 2}
                {
                    \draw[gray,-] (0,\y) -- (2,\y);
                }
            \node at (0,1.4) {\tiny\textbullet};
            \node at (0,1.4) [left] {\tiny $y$};

            \node[red] at (1.4,0) {\tiny\textbullet};
            \node at (1.4,0) [below] {\tiny $a$};

            \draw[red,-] (1.4,0) -- (1.4,2);
            \node[red] at (1.4,2) {\tiny\textbullet};
            \node[red] at (1.4,2) [above] {\scriptsize $\left\{ x \right\} \times Y$};

            \node at (-0.1,2) [above] {$Y$};
            \node at (2,-0.1) [right] {$X$};
        \end{tikzpicture}
        \caption{\textit{La figura nos representa como el producto de dos conexos, es conexo. Cada línea del cuadrado es un $X \times \left\{ y \right\}.$}}
    \end{figure}
\end{itemize}
\end{demo}


\chapter{Componentes conexas y\texorpdfstring{\\}{} conexión local}%
\label{cha:componentes_conexas_y_conexion_local}
\section{Componentes}%
\label{sec:componentes}
\begin{defi}
Una \textbf{componente conexa} (c.c) de $X$ es un subespacio conexo maximal.
\end{defi}

\begin{prop}[Construcción]
\begin{enumerate}
    \item $\forall a \in X$ definimos: $C\left( a \right) = \bigcup_{a \in A \text{conx.}} A$ es conexo (por t. pivote), $a \in C\left( a \right)$.
    \item $E \subset X$ conexo tal que $C\left( a \right) \cap E \neq \emptyset \Rightarrow$
    \[
    C\left( a \right) \cup E \text{ conx. (pivote)} \Rightarrow C\left( a \right) \cup E \text{ es uno de los } A \text{ de } C\left( a \right) \Rightarrow E \subset C\left( a \right) 
    \]
    Luego, 
    \begin{itemize}
        \item $C\left( a \right)$ maximal $\Rightarrow$ componente conexa.
        \item $a \neq b: C\left( a \right) = C\left( b \right)$ ó $C\left( a \right) \cap C\left( b \right) = \emptyset$. Usamos $E = C\left( b \right)$.
    \end{itemize}

    \item $\overline{C\left( a \right)}$ conexo (mantra adh.) $\Rightarrow \overline{C\left( a \right)} = \underbrace{C\left( a \right)}_{\text{cerr.}}$ (maximalidad)
    %TODO: Fix
    \item[1. + 2. + 3.] $\Rightarrow X = \bigsqcup_{C \stackrel{\text{c.c}}{\subset}  X} C$ es una \underline{partición} de cerrados disjuntos.
\end{enumerate} 
\end{prop}

\begin{ej}
\begin{enumerate}
    \item $X_{\text{discreto}}: C\left( x \right) = \{x\}$ (puntos abiertos y cerrados)
    \item $\mathbb{Q}_u : C\left( p \right) = \{p\}$ (todo intervalo de $\mathbb{R}$ tiene racionales)
    \item $\left( \mathbb{R}, \mathcal{T}_{[, )} \right): C\left( t \right) = \{t\}$ ($\mathbb{R} = \left( \leftarrow, a \right) \cup \left[ a, \rightarrow \right)$ abierto y cerrado)
    \item $X = \{0, Y_k,\ k \ge 1\} : \begin{cases}
        C\left( 0 \right) = \{0\} \text{ cerrado, no abierto} \left( \{\frac{1}{k}: k\ge 1 \}  \text{ no cerr.}\right)\\
        C\left( \frac{1}{k} \right) = \{\frac{1}{k}\} \text{ cerrado y abierto.} 
    \end{cases} $
\end{enumerate}
\end{ej}

\begin{defi}
Un espacio cuyas componentes son los puntos se llama \textbf{totalmente disconexo}. 
\end{defi}

\begin{prop}
Las componentes conexas de $X \times Y$ son los productos de componentes conexas.
\end{prop}
\begin{demo}
$C \stackrel{\text{c.c}}{\subset} \underbrace{X}_{\xrightarrow{p} X} \times \underbrace{Y}_{\xrightarrow{q} Y} \Rightarrow p\left( C \right)$ y $q\left( C \right)$ conexos en $X$ e $Y$, respectivamente, (imagen continua) $\Rightarrow \begin{cases}
    p\left( C \right) \subset E \stackrel{\text{c.c}}{\subset}  X\\
    q\left( C \right) \subset F \stackrel{\text{c.c}}{\subset}  Y
\end{cases} \Rightarrow C \subset E \times F \xRightarrow{\text{Max. de } C} C = E\times F$.
\end{demo}

\section{Conexión local}%
\label{sec:conexion_local}
\begin{defi}
$X$ es \textbf{localmente conexo}  si $\forall x \in X,\ \exists \mathcal{B}^x$ base de entornos abiertos conexos.
\end{defi}

\begin{prop}
$X$ es localmente conexo $\Leftrightarrow$ las componentes conexas de un abierto son abiertas:
\[
U \ab X \text{ y } C \stackrel{\text{c.c}}{\subset} U \Rightarrow C \ab X.
\]
\end{prop}
\begin{demo}
\begin{itemize}
    \item[$\Rightarrow)$] Si $x \in C \stackrel{\text{c.c}}{\subset} U \ab X \Rightarrow \exists \underbrace{U^x}_{\text{ab. conx.}} \subset U \Rightarrow U^x \subset C \Rightarrow C \ab X$. Es decir, $U$ es entorno de todos sus puntos.
    \item[$\Leftarrow)$] $ \mathcal{B}^x = \{C\left( x \right) \stackrel{\text{c.c}}{\subset} U \ab X : x \in U\}$. Con $C\left( x \right)$ abierto por ser c.c de abierto.
\end{itemize}
\end{demo}

\begin{enun}
$X$ es localmente conexo $\Leftrightarrow \forall x \in X,\ \exists \mathcal{V}^x$ base de entornos conexos.
\end{enun}

\begin{ej}[Esencial]
$\{0, \frac{1}{k} : k \ge 1\} = Y \subset \mathbb{R}_u$ \underline{no} es localmente conexo. 
\begin{demo}
    La $\text{c.c}\left( 0 \right) = \{0\}$ no es abierto. Directamente:
    \begin{align*}
        0 \in \underbrace{V}_{\text{ent. de } 0 \in \mathbb{R}} \cap Y &\Rightarrow V \supset \left( 0, \varepsilon \right),\ \exists 0 < \underbrace{\theta}_{\not\in \mathbb{Q}} < \frac{1}{k} < \varepsilon < 1\\
        &\Rightarrow V\cap Y \subset \underbrace{\left( \leftarrow, \theta \right)}_{\ni 0} \cup \underbrace{\left( \theta, \rightarrow \right)}_{\ni \frac{1}{k}}  \Rightarrow V \cap Y \text{ no conexo.} 
    .\end{align*}
\end{demo}
\end{ej}

\begin{enun}
\begin{enumerate}
    \item Analizar una sucesión de segmentos que convergen a otro:
    \begin{figure}[H]
        \centering
        \begin{tikzpicture}
            \foreach \x in {0, 0.005, 0.01, 0.02, 0.035, 0.1, 0.25, 0.5, 0.8, 1.5, 3, 6}
                \draw[-, gray] (\x, 0) -- (\x, 2);
        \end{tikzpicture}
        \caption{\textit{Ejemplo}}
    \end{figure}
    \item ¿Y el seno del topólogo?
\end{enumerate}
\end{enun}

\section{Tabla de comportamiento}%
\label{sec:tabla_de_comportamiento_loc_conx}
%TODO: Fix tabla. En subespacios los abiertos sí heredan
\begin{table}[H]
\begin{tabular}{| c | c | c | c | c |}
\hline
& Subespacios & Cocientes & Productos & Sumas\\
\hline
Conexión local & \ding{55} & \checkmark & \checkmark & \ding{55}\\
\hline
Demostración: & Ejemplo esencial & No banal & Prod. ent. conx. & Suma como sum's\\
\hline
\end{tabular}
\caption{\textit{La tabla nos indica como se conserva la compacidad local en las construcciones que hemos visto. Las sumas y los productos son finitos.}}
\end{table}


\begin{prop}
Sea $f : X \rightarrow Y$ identificación con $X$ localmente conexo $\Rightarrow Y$ es localmente conexo.
\end{prop}
\begin{demo}
    El diagrama siguiente resume el argumento (si se lee en el orden adecuado).
    \begin{center}
        \includegraphics[scale=0.3]{images/dem_loc_conx_loc_conx} 
    \end{center}
\end{demo}
